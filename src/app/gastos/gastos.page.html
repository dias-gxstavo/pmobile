<ion-header>
  <ion-toolbar>
    <ion-title class="page-title">Despesas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="gastos-content" fullscreen>
  <div class="gastos-top">
    <div class="mes-selector">
  <button type="button" class="mes-btn" (click)="mudarMes(-1)">&lt;</button>
      <div class="mes-label">{{ mesFormatado }}</div>
  <button type="button" class="mes-btn" (click)="mudarMes(1)">&gt;</button>
    </div>
    <div class="total-mes">Total de despesas: <strong>R$ {{ totalDespesas | number:'1.2-2':'pt-BR' }}</strong></div>
  </div>

  <div class="lista-transacoes">
    <div class="transacao-card" *ngFor="let t of transacoesDoMes">
      <div class="transacao-info">
        <div class="transacao-titulo">{{ t.titulo }}</div>
        <div class="transacao-categoria">{{ t.categoria }} • {{ (t.data | date:'dd/MM/yyyy') }}</div>
      </div>
      <div class="transacao-valor" [ngClass]="{ 'negativo': t.tipo === 'despesa', 'positivo': t.tipo === 'receita' }">
        {{ t.tipo === 'despesa' ? '-' : '+' }} R$ {{ t.valor | number:'1.2-2':'pt-BR' }}
      </div>
    </div>
    <div *ngIf="transacoesDoMes.length === 0" class="sem-transacoes">Nenhuma transação para este mês.</div>
  </div>

</ion-content>
